% !TEX root = 0main.tex

\section{Background and Related Work}
\label{sec:background}
We discuss related work on: (A) motivations for creating\,/\,maintaining a variant fork and (B) interaction between variant fork and mainline.%, and (iii) general studies on variant forking.



\subsection{Motivations for creating\,/\,maintaining a variant fork}
\label{sec:motivations}

There are several studies that have investigated motivations for creating and maintaining variant forks. However, most of these studies were carried out in the pre-\gh days of \sourceforge, before the advent of social coding platforms~\cite{Linus:2012Perspectives,Gregorio:2012,Viseur:2012Forks,Linus:2013CodeForking,Laurent:2008,Linus:2011ToFork}. Several studies reports controversial perceptions around variant forks in the pre-\gh days~\cite{Chua:Forking:2017,Dixion:2009Forks,Ernst:2010,Linus:2011ToFork,Linus:2014Hackers,Raymond:Cathedral:2001,pete}.
Jiang et al.~\cite{Lo:2017} states that, although forking may be controversial in traditional open source software (OSS) community, it is encouraged and is a built-in feature in \gh. They further reports that developers fork repositories to submit pull requests, fix bugs, add new features. These forks are called social forks.
Zhou et al.~\cite{Zhou:2020} concludes that most variant forks start as social forks
and that perceptions of forks have changed with the advent of \gh.
Robles and Gonz{\'a}lez-Barahona~\cite{Gregorio:2012} carried out a comprehensive study on a carefully filtered list of 220 potential forks that were referenced on Wikipedia. %The authors assumed that a fork is significant if a reference to it appears in the English Wikipedia.\ad{@John: I missing the point of this last sentence. What are the findings of \cite{Gregorio:2012}?}

There are quite a number of known motivations for creating variant in literature. Below, we present some of the reported reasons, focusing on those where both the mainline and variant co-evolve together.
% \ad{@John: Where do the following reasons come from? Is this from \cite{Gregorio:2012} or from additional references (and in that case, which ones?)}

% \sd{@John: I would like to see a better motivation on where these 4 categories come from.
% Is this your own (ad hoc) classification?
% Does it stem from another paper?
% Is this a result of a (shallow) literature survey?
% Is this what came out of your analysis of the survey responses?}

\begin{list}{$\circ$}{}
   \item \textit{Technical reasons} refer to adding or focusing content---for instance, when a developer wants to include a new feature in the mainline, but the mainline developers are reluctant to do so. An example is \textsf{Poppler}, a fork of \textsf{xpdf} relying on the \textsf{poppler} library~\cite{Gregorio:2012,Wheeler:2015Forking}.

    \item \textit{Governance disputes.} This is when some contributors from the community create a variant project when they feel that their feedback is not heard or the maintainers of the original are unresponsive or very slow at accepting their patches. A well-known example is a fork of \textsf{GNU Emacs} (originally \textsf{Lucid}) that was created as a result of the significant delays in bringing out a new version to support the Energize C++ IDE~\cite{Wheeler:2015Forking}.

\item \textit{Legal issues}: Legal aspects such as disagreements on the license, trademarks or changes to conform laws (encryption) are included here. An example of such a fork is \textsf{X.Org}, that originated from \textsf{XFree}~\cite{Gregorio:2012,Wheeler:2015Forking}.

\item \textit{Personal}: The developer team disagrees on fundamental issues (beyond mere technical matters) related to the software development and the project. An example of such a fork is the \textsf{OpenBSD} fork from \textsf{NetBSD}~\cite{Gregorio:2012}.

%The variant was created because some of the contributors felt that their feedback was not heard or maintainers were accepting patches too slowly in the mainline project.

% \item \textit{Experimental}: Creating a fork to try out and test new features that will be integrated into the mainline. This category can be seen as a subcategory of technical reasons.
\end{list}

% \ad{@John: I tried to iterate on this section, but it's very difficult because it's pretty messy currently. Since I don't know the content of each paper, I don't know how to organise these references in a more structured and smooth way. Consider for example \cite{Zhou:2020} being used in 7 different places, with different ``reported findings''.}

Focusing on variant forks in the Android ecosystem, Businge et al.~\cite{businge2018appfamilies} found that re-branding, simple customizations, feature extension and implementation of different but related features are the main motivations to create a fork of an Android App.
Zhou et al.~\cite{Zhou:2020} interviewed 18 developers of hard forks on \gh to understand reasons for forking in more modern social coding environments that explicitly support forking. The authors reported that the motivations they observed align with the findings of prior (mentioned above) studies.

Another recent study that has investigated variant forks is that of Sung et al.~\cite{sung:ICSE:2020}. The authors conducted an industrial case study of the implications of frequent merges from mainline and the resulting merge conflicts in a variant fork. They implemented a tool that can automatically resolve up-to 40\% of the list of eight mainline induced build breaks.

While the pre-\gh studies reported controversial perceptions around variant forks, Zhou et al.~\cite{Zhou:2020} report that these perceptions have changed with the advent of \gh. Jiang et al.~\cite{Lo:2017} state that, although forking is controversial in traditional open source software (OSS) communities, it is actually encouraged as a built-in feature in \gh. The authors further report that developers fork repositories to submit pull requests, fix bugs, add new features and keep copies (social forks).
Zhou et al.~\cite{Zhou:2020} also report that many variant forks actually start as social forks.

\subsection{Interaction between variant fork and mainline}
We have only come across the study of Zhou et al.~\cite{Zhou:2020} that has investigated interaction between variant fork and mainline.
%\az{I think we need to define the mainline here first. Maybe also define the used terms in a subsection "terminology". For example mainline} \jb{The only terminologies we have are variants and mainline. I plan to define them in the introduction section}
In a study the authors conducted 18 semi-structured interviews with developers. They reported that many interviewees indicate that they are interested in coordinating across repositories, either for merging some or all changes back mainline eventually or to monitor activity in the mainline repository to incorporate select or all changes. Another study that has investigated interaction between mainline and variant is that of Businge et al.~\cite{businge:emse:2021}. The authors quantitatively investigated code propagation among variants and mainline from three software ecosystems. They found that only about 11\% of the 10,979 mainline--variant pairs had integrated code between themselves. Like Zhou et al.~\cite{Zhou:2020}, in this study we carry out a qualitative study to find out if variant developers integrate code to and from the mainline repositories.

%\subsection{General studies on variant forking}
% Like the between variant fork and mainline, we did not find many studies that relate to general studies on variant forking.
% One recent study that we came across investigated variant forks is that of Sung et al.~\cite{sung:ICSE:2020}. The authors conduct an industrial case study of the implications of frequent merges from mainline and the resulting merge conflicts in a variant fork. They implemented a tool that can automatically resolve up-to 40\% of the list of eight mainline induced build breaks. \az{the last two paper mentioned are already discussed above.}
